<div class="container">

  <app-create-participant [game_id]="game_id"></app-create-participant>


  <div *ngIf="participants" class="participants-table">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Drawn</th>
          <th>Created At</th>
          <th>Updated At</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let participant of participants">
          <td>{{ participant.id }}</td>
          <td>{{ participant.name }}</td>
          <td>{{ participant.drawn }}</td>
          <td>{{ participant.created_at | date:'dd-MM-yyyy HH:mm:ss' }}</td>
          <td>{{ participant.updated_at | date:'dd-MM-yyyy HH:mm:ss' }}</td>
          <td>
            <button class="button_delete" (click)="deleteParticipant(participant.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <button class="spin-button" (click)="draw()">SPIN THE WHEEL</button>
  
  <div class="drawn-participants-container">
    <div *ngIf="drawn" class="drawn-participants">
      <div *ngFor="let participant of drawn">
        <h2>the lucky one is <span>{{ participant.name | uppercase }}</span> !!</h2>
      </div>
    </div>
  </div>

  <div *ngIf="draws" class="draws-table">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Created At</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let draw of draws">
          <td>{{ draw.id }}</td>
          <td>{{ draw.name }}</td>
          <td>{{ draw.created_at | date:'dd-MM-yyyy HH:mm:ss' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
